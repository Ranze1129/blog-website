"use strict";(self["webpackChunkblog_client"]=self["webpackChunkblog_client"]||[]).push([[713],{2713:function(t,e,n){n.r(e),n.d(e,{default:function(){return r}});var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"edit"}},[n("h1",[t._v("编辑文章")]),n("h3",[t._v("文章标题")]),n("el-input",{model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),n("p",{staticClass:"msg"},[t._v(t._s(t.title.length)+"/10个字以上")]),n("h3",[t._v("内容简介")]),n("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:6}},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),n("p",{staticClass:"msg"},[t._v(t._s(t.description.length)+"/30个字以上")]),n("h3",[t._v("文章内容")]),n("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:30}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),n("p",{staticClass:"msg"},[t._v(t._s(t.content.length)+"/200个字以上")]),n("p",[n("label",[t._v("是否展示到首页")]),n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.atIndex,callback:function(e){t.atIndex=e},expression:"atIndex"}})],1),n("el-button",{on:{click:t.onEdit}},[t._v("确定")])],1)},i=[],l=(n(2526),n(1817),n(7491)),a={data:function(){return{blogId:null,title:"",description:"",content:"",atIndex:!1}},created:function(){var t=this;this.blogId=this.$route.params.blogId,l.Z.getDetail({blogId:this.blogId}).then((function(e){t.title=e.data.title,t.description=e.data.description,t.content=e.data.content,t.atIndex=e.data.atIndex}))},methods:{onEdit:function(){var t=this;l.Z.updateBlog({blogId:this.blogId},{title:this.title,content:this.content,description:this.description,atIndex:this.atIndex}).then((function(e){t.$message.success(e.msg),t.$router.push({path:"/detail/".concat(e.data.id)})}))}}},d=a,s=n(1001),c=(0,s.Z)(d,o,i,!1,null,null,null),r=c.exports},7491:function(t,e,n){n(4916),n(5306),n(2526),n(1817);var o=n(8505),i={GET_LIST:"/blog",GET_DETAIL:"/blog/:blogId",CREATE:"/blog",UPDATE:"/blog/:blogId",DELETE:"/blog/:blogId"};e["Z"]={getBlogs:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:1},e=t.page,n=void 0===e?1:e,l=t.userId,a=t.atIndex;return(0,o.Z)(i.GET_LIST,"GET",{page:n,userId:l,atIndex:a})},getIndexBlogs:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:1},e=t.page,n=void 0===e?1:e;return this.getBlogs({page:n,atIndex:!0})},getBlogsByUserId:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{page:1},n=e.page,o=void 0===n?1:n,i=e.atIndex;return this.getBlogs({userId:t,page:o,atIndex:i})},getDetail:function(t){var e=t.blogId;return(0,o.Z)(i.GET_DETAIL.replace(":blogId",e))},updateBlog:function(t,e){var n=t.blogId,l=e.title,a=e.content,d=e.description,s=e.atIndex;return(0,o.Z)(i.UPDATE.replace(":blogId",n),"PATCH",{title:l,content:a,description:d,atIndex:s})},deleteBlog:function(t){var e=t.blogId;return(0,o.Z)(i.DELETE.replace(":blogId",e),"DELETE")},createBlog:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{title:"",content:"",description:"",atIndex:!1},e=t.title,n=void 0===e?"":e,l=t.content,a=void 0===l?"":l,d=t.description,s=void 0===d?"":d,c=t.atIndex,r=void 0!==c&&c;return(0,o.Z)(i.CREATE,"POST",{title:n,content:a,description:s,atIndex:r})}}}}]);
//# sourceMappingURL=713-legacy.924635b5.js.map