"use strict";(self["webpackChunkblog_client"]=self["webpackChunkblog_client"]||[]).push([[713],{2713:function(t,e,n){n.r(e),n.d(e,{default:function(){return r}});var l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"edit"}},[n("h1",[t._v("编辑文章")]),n("h3",[t._v("文章标题")]),n("el-input",{model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),n("p",{staticClass:"msg"},[t._v(t._s(t.title.length)+"/10个字以上")]),n("h3",[t._v("内容简介")]),n("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:6}},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),n("p",{staticClass:"msg"},[t._v(t._s(t.description.length)+"/30个字以上")]),n("h3",[t._v("文章内容")]),n("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:30}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),n("p",{staticClass:"msg"},[t._v(t._s(t.content.length)+"/200个字以上")]),n("p",[n("label",[t._v("是否展示到首页")]),n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.atIndex,callback:function(e){t.atIndex=e},expression:"atIndex"}})],1),n("el-button",{on:{click:t.onEdit}},[t._v("确定")])],1)},i=[],o=n(7491),a={data(){return{blogId:null,title:"",description:"",content:"",atIndex:!1}},created(){this.blogId=this.$route.params.blogId,o.Z.getDetail({blogId:this.blogId}).then((t=>{this.title=t.data.title,this.description=t.data.description,this.content=t.data.content,this.atIndex=t.data.atIndex}))},methods:{onEdit(){o.Z.updateBlog({blogId:this.blogId},{title:this.title,content:this.content,description:this.description,atIndex:this.atIndex}).then((t=>{this.$message.success(t.msg),this.$router.push({path:`/detail/${t.data.id}`})}))}}},s=a,d=n(1001),c=(0,d.Z)(s,l,i,!1,null,null,null),r=c.exports},7491:function(t,e,n){var l=n(8505);const i={GET_LIST:"/blog",GET_DETAIL:"/blog/:blogId",CREATE:"/blog",UPDATE:"/blog/:blogId",DELETE:"/blog/:blogId"};e["Z"]={getBlogs({page:t=1,userId:e,atIndex:n}={page:1}){return(0,l.Z)(i.GET_LIST,"GET",{page:t,userId:e,atIndex:n})},getIndexBlogs({page:t=1}={page:1}){return this.getBlogs({page:t,atIndex:!0})},getBlogsByUserId(t,{page:e=1,atIndex:n}={page:1}){return this.getBlogs({userId:t,page:e,atIndex:n})},getDetail({blogId:t}){return(0,l.Z)(i.GET_DETAIL.replace(":blogId",t))},updateBlog({blogId:t},{title:e,content:n,description:o,atIndex:a}){return(0,l.Z)(i.UPDATE.replace(":blogId",t),"PATCH",{title:e,content:n,description:o,atIndex:a})},deleteBlog({blogId:t}){return(0,l.Z)(i.DELETE.replace(":blogId",t),"DELETE")},createBlog({title:t="",content:e="",description:n="",atIndex:o=!1}={title:"",content:"",description:"",atIndex:!1}){return(0,l.Z)(i.CREATE,"POST",{title:t,content:e,description:n,atIndex:o})}}}}]);
//# sourceMappingURL=713.4eb6c1f6.js.map