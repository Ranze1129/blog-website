"use strict";(self["webpackChunkblog_client"]=self["webpackChunkblog_client"]||[]).push([[280],{8280:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"index"}},[a("div",{attrs:{id:"topAnchor"}}),t._m(0),a("section",{staticClass:"blog-posts"},t._l(t.blogs,(function(e){return a("router-link",{staticClass:"item",attrs:{to:"/detail/"+e.id}},[a("figure",{staticClass:"avatar"},[a("img",{attrs:{src:e.user.avatar,alt:e.user.username}}),a("figcaption",[t._v(t._s(e.user.username))])]),a("h3",[t._v(t._s(e.title)),a("span",[t._v(" "+t._s(t.friendlyDate(e.createdAt)))])]),a("p",[t._v(t._s(e.description))])])})),1),a("section",{staticClass:"pagination"},[a("el-pagination",{attrs:{layout:"prev, pager, next",total:t.total/2,"current-page":t.page},on:{"current-change":t.onPageChange}})],1)])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("a",{attrs:{href:"#topAnchor"}},[t._v("ï¸½")])])}],s=a(7491),o={data(){return{blogs:[],total:0,page:1}},created(){this.page=parseInt(this.$route.query.page)||1,s.Z.getIndexBlogs({page:this.page}).then((t=>{this.blogs=t.data,this.total=t.total,this.page=t.page}))},methods:{onPageChange(t){s.Z.getIndexBlogs({page:t}).then((e=>{console.log(e),this.blogs=e.data,this.total=e.total,this.page=e.page,this.$router.push({path:"/",query:{page:t}})}))}}},l=o,g=a(1001),i=(0,g.Z)(l,n,r,!1,null,"2cff4fb5",null),d=i.exports},7491:function(t,e,a){var n=a(8505);const r={GET_LIST:"/blog",GET_DETAIL:"/blog/:blogId",CREATE:"/blog",UPDATE:"/blog/:blogId",DELETE:"/blog/:blogId"};e["Z"]={getBlogs({page:t=1,userId:e,atIndex:a}={page:1}){return(0,n.Z)(r.GET_LIST,"GET",{page:t,userId:e,atIndex:a})},getIndexBlogs({page:t=1}={page:1}){return this.getBlogs({page:t,atIndex:!0})},getBlogsByUserId(t,{page:e=1,atIndex:a}={page:1}){return this.getBlogs({userId:t,page:e,atIndex:a})},getDetail({blogId:t}){return(0,n.Z)(r.GET_DETAIL.replace(":blogId",t))},updateBlog({blogId:t},{title:e,content:a,description:s,atIndex:o}){return(0,n.Z)(r.UPDATE.replace(":blogId",t),"PATCH",{title:e,content:a,description:s,atIndex:o})},deleteBlog({blogId:t}){return(0,n.Z)(r.DELETE.replace(":blogId",t),"DELETE")},createBlog({title:t="",content:e="",description:a="",atIndex:s=!1}={title:"",content:"",description:"",atIndex:!1}){return(0,n.Z)(r.CREATE,"POST",{title:t,content:e,description:a,atIndex:s})}}}}]);
//# sourceMappingURL=280.957bebde.js.map